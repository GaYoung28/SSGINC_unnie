<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">
<head>
    <meta charset="UTF-8"/>
    <title>업체 리뷰 목록</title>
    <link rel="stylesheet" href="/static/css/review/reviewShop.css">
</head>
<body>
<div class="container" layout:fragment="content">

    <!-- 상단: 리뷰 개수, 정렬 드롭다운 -->
    <div class="review-header">
        <!-- 리뷰 개수 (예: "리뷰 19") -->
        <div class="review-count">
            <span th:text="'리뷰 ' + ${totalReviewCount}">리뷰 0</span>
        </div>

        <!-- 정렬 드롭다운 -->
        <div class="review-sort">
            <select id="sortSelect">
                <option value="newest" selected>최신순</option>
                <option value="oldest">오래된순</option>
            </select>
        </div>
    </div>

    <!-- 키워드 버튼들 (DB에 키워드 목록이 있을 경우) -->
    <div class="keyword-filters">
        <button th:each="kw : ${keywords}"
                th:text="${kw.keyword}"
                th:attr="data-keyword-id=${kw.keywordId}"
                onclick="onKeywordClick(this)">
            키워드
        </button>
    </div>

    <!-- 리뷰 목록 -->
    <div class="review-list">
        <!-- 서버 사이드 렌더링 시: reviews가 모델에 있을 때 반복 렌더링
             (JS로 동적 로딩 시에는 아래 코드가 없어도 됨) -->
        <div class="review-item" th:each="review : ${reviews}">
            <div class="review-item-header">
                <!-- 작성자 -->
                <span class="review-author" th:text="${review.memberNickName}">작성자</span>
                <!-- 작성일 (yyyy-MM-dd) -->
                <span class="review-date"
                      th:text="${#temporals.format(review.reviewDate, 'yyyy-MM-dd')}">
                    2025-03-10
                </span>
                <!-- 리뷰 별점 -->
                <span class="review-rate" th:text="${review.reviewRate}">5</span>
            </div>

            <!-- 업체명 (JSON에 shopName 존재) -->
            <div class="review-shopname" th:text="${review.shopName}">
                업체명
            </div>

            <!-- 리뷰 이미지 -->
            <div class="review-image-section">
                <img th:src="${review.reviewImage}" alt="리뷰 이미지">
            </div>

            <!-- 리뷰 내용 -->
            <div class="review-content" th:text="${review.reviewContent}">
                리뷰 내용
            </div>
        </div>
    </div>

    <!-- JS 로직 -->
    <div layout:fragment="scripts">
        <script src="/js/review/reviewListShop.js"></script>
    </div>
</div>
</body>
</html>
